{% extends "base.html" %}

{% block title %}New Item - Inventory ERP{% endblock %}

{% block content %}
<h1>Create New Item</h1>

<div class="section">
    <form method="POST" action="{{ url_for('items.new') }}">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="category">Category *</label>
                    <input type="text" name="category" id="category" class="form-control" required list="category-list" placeholder="Type or select category">
                    <datalist id="category-list">
                        {% for category in categories %}
                        <option value="{{ category.name }}">
                        {% endfor %}
                    </datalist>
                    <small class="form-text text-muted">Type a new category or select from existing</small>
                </div>

                <div class="form-group">
                    <label for="type">Type *</label>
                    <input type="text" name="type" id="type" class="form-control" required list="type-list" placeholder="Type or select type">
                    <datalist id="type-list">
                        {% for type in types %}
                        <option value="{{ type.name }}">
                        {% endfor %}
                    </datalist>
                    <small class="form-text text-muted">Type a new type or select from existing</small>
                </div>

                <div class="form-group">
                    <label for="material">Material</label>
                    <input type="text" name="material" id="material" class="form-control" list="material-list" placeholder="Type or select material (optional)">
                    <datalist id="material-list">
                        {% for material in materials %}
                        <option value="{{ material.name }}">
                        {% endfor %}
                    </datalist>
                    <small class="form-text text-muted">Optional - type a new material or select from existing</small>
                </div>

                <div class="form-group">
                    <label for="name">Item Name *</label>
                    <input type="text" name="name" id="name" class="form-control" required>
                </div>

                <div class="form-group">
                    <label for="neo_code">NEO Code</label>
                    <input type="text" name="neo_code" id="neo_code" class="form-control" maxlength="50">
                </div>

                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea name="description" id="description" class="form-control"></textarea>
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label for="unit_of_measure">Unit of Measure *</label>
                    <select name="unit_of_measure" id="unit_of_measure" class="form-control" required>
                        <option value="PCS">Pieces (PCS)</option>
                        <option value="KG">Kilograms (KG)</option>
                        <option value="G">Grams (G)</option>
                        <option value="L">Liters (L)</option>
                        <option value="M">Meters (M)</option>
                        <option value="M2">Square Meters (M2)</option>
                        <option value="M3">Cubic Meters (M3)</option>
                        <option value="BOX">Box (BOX)</option>
                        <option value="SET">Set (SET)</option>
                        <option value="PAIR">Pair (PAIR)</option>
                    </select>
                </div>

                <h4>Dimensions (for CNC parts)</h4>
                <div class="form-group">
                    <label for="diameter">Diameter (mm)</label>
                    <input type="number" name="diameter" id="diameter" class="form-control" step="0.01">
                </div>

                <div class="form-group">
                    <label for="length">Length (mm)</label>
                    <input type="number" name="length" id="length" class="form-control" step="0.01">
                </div>

                <div class="form-group">
                    <label for="width">Width (mm)</label>
                    <input type="number" name="width" id="width" class="form-control" step="0.01">
                </div>

                <div class="form-group">
                    <label for="height">Height (mm)</label>
                    <input type="number" name="height" id="height" class="form-control" step="0.01">
                </div>

                <div class="form-group">
                    <label for="weight_kg">Weight (kg)</label>
                    <input type="number" name="weight_kg" id="weight_kg" class="form-control" step="0.001">
                </div>

                <h4>Inventory Settings</h4>
                <div class="form-group">
                    <label for="reorder_level">Reorder Level</label>
                    <input type="number" name="reorder_level" id="reorder_level" class="form-control" value="0">
                </div>

                <div class="form-group">
                    <label for="reorder_quantity">Reorder Quantity</label>
                    <input type="number" name="reorder_quantity" id="reorder_quantity" class="form-control" value="0">
                </div>

                <div class="form-group">
                    <label for="cost">Cost (EUR)</label>
                    <input type="number" name="cost" id="cost" class="form-control" step="0.01" value="0">
                </div>

                <div class="form-group">
                    <label for="price">Selling Price (EUR)</label>
                    <input type="number" name="price" id="price" class="form-control" step="0.01" value="0">
                </div>
            </div>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Create Item</button>
            <a href="{{ url_for('items.index') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
